# TrafficLight

> 五行程式碼規則 (Five Lines Of Code)

> 重構模式：統合相似的類別 (UNIFY SIMILAR CLASSES)

1. 讓所有非基礎方法相等。
    - 對各版本的方法加上 ``if (true) {}``。
    - 將 true 替換成呼叫基礎方法。
    - 將各版本的方法內容複製，並加上 else 條件，最後將它貼到所有其他版本的方法。
2. 現在只剩基礎方法不同，透過在建構式引入欄位，並指定常數值。
3. 將方法改成返回新的欄位，而不是返回常數。
4. 進行編譯，確保正確。
5. 對每個類別的欄位：
    - 複製欄位預設值，讓預設值變成參數。
    - 逐個修正編譯器的錯誤，並將原本的預設值填入。
6. 刪除正在正併的類別，只保留一個。